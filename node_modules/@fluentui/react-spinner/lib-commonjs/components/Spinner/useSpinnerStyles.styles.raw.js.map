{"version":3,"sources":["../src/components/Spinner/useSpinnerStyles.styles.ts"],"sourcesContent":["import { useFluent_unstable as useFluent } from '@fluentui/react-shared-contexts';\nimport { tokens, typographyStyles } from '@fluentui/react-theme';\nimport type { SlotClassNames } from '@fluentui/react-utilities';\nimport { makeResetStyles, makeStyles, mergeClasses } from '@griffel/react';\nimport type { SpinnerSlots, SpinnerState } from './Spinner.types';\n\nexport const spinnerClassNames: SlotClassNames<SpinnerSlots> = {\n  root: 'fui-Spinner',\n  spinner: 'fui-Spinner__spinner',\n  spinnerTail: 'fui-Spinner__spinnerTail',\n  label: 'fui-Spinner__label',\n};\n\n/**\n * CSS variables used internally by Spinner\n */\nconst vars = {\n  strokeWidth: '--fui-Spinner--strokeWidth',\n};\n\nconst useRootBaseClassName = makeResetStyles({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  lineHeight: '0',\n  gap: '8px',\n  overflow: 'hidden', // prevents height changes from rotating children\n});\n\nconst useRootStyles = makeStyles({\n  vertical: {\n    flexDirection: 'column',\n  },\n});\n\nconst useSpinnerBaseClassName = makeResetStyles({\n  position: 'relative',\n  flexShrink: 0,\n\n  // Use a mask to create the ring shape of the spinner.\n  maskImage:\n    `radial-gradient(closest-side, ` +\n    `transparent calc(100% - var(${vars.strokeWidth}) - 1px), ` +\n    `white calc(100% - var(${vars.strokeWidth})) calc(100% - 1px), ` +\n    `transparent 100%)`,\n\n  backgroundColor: tokens.colorBrandStroke2Contrast,\n  color: tokens.colorBrandStroke1,\n  '@media screen and (forced-colors: active)': {\n    backgroundColor: 'HighlightText',\n    color: 'Highlight',\n    forcedColorAdjust: 'none',\n  },\n\n  animationDuration: '1.5s',\n  animationIterationCount: 'infinite',\n  animationTimingFunction: 'linear',\n  animationName: {\n    '0%': { transform: 'rotate(0deg)' },\n    '100%': { transform: 'rotate(360deg)' },\n  },\n\n  '@media screen and (prefers-reduced-motion: reduce)': {\n    animationDuration: '1.8s',\n  },\n});\n\n// The spinner tail is rendered using two 135deg arc segments, behind a 105deg arc mask.\n// The segments are rotated out from behind the mask to expand the visible arc from\n// 30deg (min) to 255deg (max), and then back behind the mask again to shrink the arc.\n// The tail and spinner itself also have 360deg rotation animations for the spin.\nconst useSpinnerTailBaseClassName = makeResetStyles({\n  position: 'absolute',\n  display: 'block',\n  width: '100%',\n  height: '100%',\n  maskImage: 'conic-gradient(transparent 105deg, white 105deg)',\n\n  '&::before, &::after': {\n    content: '\"\"',\n    position: 'absolute',\n    display: 'block',\n    width: '100%',\n    height: '100%',\n    animation: 'inherit',\n    backgroundImage: 'conic-gradient(currentcolor 135deg, transparent 135deg)',\n  },\n\n  animationDuration: '1.5s',\n  animationIterationCount: 'infinite',\n  animationTimingFunction: tokens.curveEasyEase,\n  animationName: {\n    '0%': { transform: 'rotate(-135deg)' },\n    '50%': { transform: 'rotate(0deg)' },\n    '100%': { transform: 'rotate(225deg)' },\n  },\n  '&::before': {\n    animationName: {\n      '0%': { transform: 'rotate(0deg)' },\n      '50%': { transform: 'rotate(105deg)' },\n      '100%': { transform: 'rotate(0deg)' },\n    },\n  },\n  '&::after': {\n    animationName: {\n      '0%': { transform: 'rotate(0deg)' },\n      '50%': { transform: 'rotate(225deg)' },\n      '100%': { transform: 'rotate(0deg)' },\n    },\n  },\n  '@media screen and (prefers-reduced-motion: reduce)': {\n    animationIterationCount: '0',\n    backgroundImage: 'conic-gradient(transparent 120deg, currentcolor 360deg)',\n    '&::before, &::after': {\n      content: 'none',\n    },\n  },\n});\n\nconst useSpinnerStyles = makeStyles({\n  inverted: {\n    backgroundColor: tokens.colorNeutralStrokeAlpha2,\n    color: tokens.colorNeutralStrokeOnBrand2,\n  },\n\n  rtlTail: {\n    maskImage: 'conic-gradient(white 255deg, transparent 255deg)',\n    '&::before, &::after': {\n      backgroundImage: 'conic-gradient(transparent 225deg, currentcolor 225deg)',\n    },\n    '@media screen and (prefers-reduced-motion: reduce)': {\n      backgroundImage: 'conic-gradient(currentcolor 0deg, transparent 240deg)',\n    },\n  },\n\n  'extra-tiny': {\n    height: '16px',\n    width: '16px',\n    [vars.strokeWidth]: tokens.strokeWidthThick,\n  },\n\n  tiny: {\n    height: '20px',\n    width: '20px',\n    [vars.strokeWidth]: tokens.strokeWidthThick,\n  },\n\n  'extra-small': {\n    height: '24px',\n    width: '24px',\n    [vars.strokeWidth]: tokens.strokeWidthThick,\n  },\n\n  small: {\n    height: '28px',\n    width: '28px',\n    [vars.strokeWidth]: tokens.strokeWidthThick,\n  },\n\n  medium: {\n    height: '32px',\n    width: '32px',\n    [vars.strokeWidth]: tokens.strokeWidthThicker,\n  },\n\n  large: {\n    height: '36px',\n    width: '36px',\n    [vars.strokeWidth]: tokens.strokeWidthThicker,\n  },\n\n  'extra-large': {\n    height: '40px',\n    width: '40px',\n    [vars.strokeWidth]: tokens.strokeWidthThicker,\n  },\n\n  huge: {\n    height: '44px',\n    width: '44px',\n    [vars.strokeWidth]: tokens.strokeWidthThickest,\n  },\n});\n\nconst useLabelStyles = makeStyles({\n  inverted: {\n    color: tokens.colorNeutralForegroundStaticInverted,\n  },\n\n  'extra-tiny': {\n    ...typographyStyles.body1,\n  },\n\n  tiny: {\n    ...typographyStyles.body1,\n  },\n\n  'extra-small': {\n    ...typographyStyles.body1,\n  },\n\n  small: {\n    ...typographyStyles.body1,\n  },\n\n  medium: {\n    ...typographyStyles.subtitle2,\n  },\n\n  large: {\n    ...typographyStyles.subtitle2,\n  },\n\n  'extra-large': {\n    ...typographyStyles.subtitle2,\n  },\n\n  huge: {\n    ...typographyStyles.subtitle1,\n  },\n});\n\n/**\n * Apply styling to the Spinner slots based on the state\n */\nexport const useSpinnerStyles_unstable = (state: SpinnerState): SpinnerState => {\n  'use no memo';\n\n  const { labelPosition, size, appearance } = state;\n  const { dir } = useFluent();\n\n  const rootBaseClassName = useRootBaseClassName();\n  const rootStyles = useRootStyles();\n  const spinnerBaseClassName = useSpinnerBaseClassName();\n  const spinnerStyles = useSpinnerStyles();\n  const spinnerTailBaseClassName = useSpinnerTailBaseClassName();\n  const labelStyles = useLabelStyles();\n\n  state.root.className = mergeClasses(\n    spinnerClassNames.root,\n    rootBaseClassName,\n    (labelPosition === 'above' || labelPosition === 'below') && rootStyles.vertical,\n    state.root.className,\n  );\n  if (state.spinner) {\n    state.spinner.className = mergeClasses(\n      spinnerClassNames.spinner,\n      spinnerBaseClassName,\n      spinnerStyles[size],\n      appearance === 'inverted' && spinnerStyles.inverted,\n      state.spinner.className,\n    );\n  }\n  if (state.spinnerTail) {\n    state.spinnerTail.className = mergeClasses(\n      spinnerClassNames.spinnerTail,\n      spinnerTailBaseClassName,\n      dir === 'rtl' && spinnerStyles.rtlTail,\n      state.spinnerTail.className,\n    );\n  }\n  if (state.label) {\n    state.label.className = mergeClasses(\n      spinnerClassNames.label,\n      labelStyles[size],\n      appearance === 'inverted' && labelStyles.inverted,\n      state.label.className,\n    );\n  }\n\n  return state;\n};\n"],"names":["spinnerClassNames","useSpinnerStyles_unstable","root","spinner","spinnerTail","label","vars","strokeWidth","useRootBaseClassName","makeResetStyles","display","alignItems","justifyContent","lineHeight","gap","overflow","useRootStyles","makeStyles","vertical","flexDirection","useSpinnerBaseClassName","position","flexShrink","maskImage","backgroundColor","tokens","colorBrandStroke2Contrast","color","colorBrandStroke1","forcedColorAdjust","animationDuration","animationIterationCount","animationTimingFunction","animationName","transform","useSpinnerTailBaseClassName","width","height","content","animation","backgroundImage","curveEasyEase","useSpinnerStyles","inverted","colorNeutralStrokeAlpha2","colorNeutralStrokeOnBrand2","rtlTail","strokeWidthThick","tiny","small","medium","strokeWidthThicker","large","huge","strokeWidthThickest","useLabelStyles","colorNeutralForegroundStaticInverted","typographyStyles","body1","subtitle2","subtitle1","state","labelPosition","size","appearance","dir","useFluent","rootBaseClassName","rootStyles","spinnerBaseClassName","spinnerStyles","spinnerTailBaseClassName","labelStyles","className","mergeClasses"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}